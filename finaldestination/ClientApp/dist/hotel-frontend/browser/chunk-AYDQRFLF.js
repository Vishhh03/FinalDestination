import{a as A}from"./chunk-EQVOZHBO.js";import{$ as v,G as p,H as s,I as C,J as _,L as e,M as t,N as d,Q as y,T as i,U as r,V as E,aa as f,ga as b,ia as g,la as I,m as u,ta as P,u as a,z as h}from"./chunk-M2QECLH7.js";var T=(n,o)=>o.id;function N(n,o){if(n&1&&(e(0,"div",6)(1,"div",11)(2,"label"),i(3,"Name"),t(),e(4,"p"),i(5),t()(),e(6,"div",11)(7,"label"),i(8,"Email"),t(),e(9,"p"),i(10),t()(),e(11,"div",11)(12,"label"),i(13,"Contact Number"),t(),e(14,"p"),i(15),t()(),e(16,"div",11)(17,"label"),i(18,"Role"),t(),e(19,"p",12),i(20),t()(),e(21,"div",11)(22,"label"),i(23,"Member Since"),t(),e(24,"p"),i(25),v(26,"date"),t()()()),n&2){let l=o;a(5),r(l.name),a(5),r(l.email),a(5),r(l.contactNumber||"Not provided"),a(5),r(l.role),a(5),r(f(26,5,l.createdAt,"mediumDate"))}}function M(n,o){if(n&1&&(e(0,"div",8)(1,"div",13)(2,"div",14)(3,"span",15),i(4),t(),e(5,"span",16),i(6,"Points"),t()()(),e(7,"div",17)(8,"div",18)(9,"label"),i(10,"Total Earned"),t(),e(11,"p"),i(12),t()(),e(13,"div",18)(14,"label"),i(15,"Last Updated"),t(),e(16,"p"),i(17),v(18,"date"),t()()()()),n&2){let l=y();a(4),r(l.loyaltyAccount.pointsBalance),a(8),E("",l.loyaltyAccount.totalPointsEarned," points"),a(5),r(f(18,3,l.loyaltyAccount.lastUpdated,"medium"))}}function B(n,o){n&1&&(e(0,"div",9),d(1,"i",19),e(2,"p"),i(3,"Start earning loyalty points with your first booking!"),t()())}function D(n,o){if(n&1&&(e(0,"div",22)(1,"div",23),d(2,"i",24),t(),e(3,"div",25)(4,"p",26),i(5),t(),e(6,"p",27),i(7),v(8,"date"),t()(),e(9,"div",28),i(10),t()()),n&2){let l=o.$implicit;a(5),r(l.description),a(2),r(f(8,3,l.createdAt,"medium")),a(3),E(" +",l.pointsEarned," pts ")}}function U(n,o){if(n&1&&(e(0,"div",10)(1,"h2"),d(2,"i",20),i(3," Points History"),t(),e(4,"div",21),C(5,D,11,6,"div",22,T),t()()),n&2){let l=y();a(5),_(l.transactions)}}var R=(()=>{let o=class o{constructor(){this.authService=u(P),this.http=u(I),this.loyaltyAccount=null,this.transactions=[]}ngOnInit(){this.http.get("/api/loyalty/account").subscribe({next:m=>this.loyaltyAccount=m,error:()=>console.log("No loyalty account found")}),this.http.get("/api/loyalty/transactions").subscribe({next:m=>this.transactions=m,error:()=>console.log("No transactions found")})}};o.\u0275fac=function(c){return new(c||o)},o.\u0275cmp=h({type:o,selectors:[["app-profile"]],decls:22,vars:3,consts:[[1,"page-header"],[1,"container"],[1,"profile-section"],[1,"profile-grid"],[1,"profile-card"],[1,"fas","fa-user"],[1,"profile-info"],[1,"fas","fa-star"],[1,"loyalty-info"],[1,"no-loyalty"],[1,"transactions-card"],[1,"info-item"],[1,"role-badge"],[1,"points-display"],[1,"points-circle"],[1,"points-value"],[1,"points-label"],[1,"loyalty-stats"],[1,"stat-item"],[1,"fas","fa-gift"],[1,"fas","fa-history"],[1,"transactions-list"],[1,"transaction-item"],[1,"transaction-icon"],[1,"fas","fa-plus-circle"],[1,"transaction-details"],[1,"transaction-desc"],[1,"transaction-date"],[1,"transaction-points"]],template:function(c,x){if(c&1&&(d(0,"app-navbar"),e(1,"div",0)(2,"div",1)(3,"h1"),i(4,"My Profile"),t(),e(5,"p"),i(6,"Manage your account and loyalty points"),t()()(),e(7,"section",2)(8,"div",1)(9,"div",3)(10,"div",4)(11,"h2"),d(12,"i",5),i(13," Account Information"),t(),p(14,N,27,8,"div",6),t(),e(15,"div",4)(16,"h2"),d(17,"i",7),i(18," Loyalty Program"),t(),p(19,M,19,6,"div",8)(20,B,4,0,"div",9),t()(),p(21,U,7,0,"div",10),t()()),c&2){let S;a(14),s((S=x.authService.currentUser())?14:-1,S),a(5),s(x.loyaltyAccount?19:20),a(2),s(x.transactions.length>0?21:-1)}},dependencies:[g,A,b],encapsulation:2});let n=o;return n})();export{R as ProfileComponent};
